<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>Meshman Final Webpage (UNDER CONSTRUCTION)</h1>
		<div style="text-align: center;">Names: Catherine Jin, Edward Lee, Ethan Zhang, Ray Zhang</div>

		<br>
		Link to Webpage: <a href="https://yq-jin.github.io/meshmanwebpage/">https://yq-jin.github.io/meshmanwebpage/</a>
		<br>
        Link to Presentation Slides: <a href="https://docs.google.com/presentation/d/1OnXgku_8UvQRuCruHZ-0niGbyZ6H7tPUOZTqm-Sd5XQ/edit?usp=sharing">https://docs.google.com/presentation/d/1OnXgku_8UvQRuCruHZ-0niGbyZ6H7tPUOZTqm-Sd5XQ/edit?usp=sharing</a>
        <br>
		Link to Video: WORK IN PROGRESS

		<!-- <figure>
			<img src="lion.jpg" alt="Lion" style="width:50%"/>
			<figcaption>You can add images with captions!</figcaption>
		</figure> -->

		<!--
		We've already added one heading per task, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Abstract</h2>
		<p>MeshMan is an interactive system designed to make 3D character posing and deformation more intuitive by allowing users to manipulate a simple 2D stick figure interface. The core idea behind the project is to bridge the gap between simple, user-friendly controls and the complexity of 3D mesh manipulation. Users can click and drag joints on the stick figure to reposition limbs and create poses, with all changes reflected in real time on a corresponding 3D humanoid mesh. This makes MeshMan an accessible and responsive tool for users interested in character animation, posing, or mesh editing. The system is built in Unity and takes advantage of Unity's rendering engine and real-time capabilities. And, we implemented a clear separation between the 2D control layer and the 3D representation to keep the architecture modular and easy to maintain. At the core of the 3D mesh manipulation is vertex-level control, which allows us to precisely change parts of the mesh based on the position of joints and limbs. Additionally, we use mesh combination techniques to ensure that the final character model can be rendered efficiently, even as it is being dynamically updated.</p>

		<h2>Technical Approach</h2>
		<h3>Core Architecture</h3>
		<ul>
			<li>Unity-based implementation with C# scripting</li>
			<li>Stick figure representation with joints and limbs for intuitive posing</li>
			<li>Real-time mesh generation and manipulation based on stick figure positions</li>
			<li>Dual-view system: 2D draggable interface and 3D mesh representation</li>
		</ul>

		<h3>Key Components</h3>
		<ul>
			<li><strong>StickFigureDragManager:</strong> Manages the 2D stick figure interface
				<ul>
					<li>Handles input detection and dragging operations</li>
					<li>Constrains joint movement within reasonable limits</li>
					<li>Updates limb positions and orientations in real-time</li>
				</ul>
			</li>
			<li><strong>Figure3DView:</strong> Generates 3D mesh representation of the stick figure
				<ul>
					<li>Creates joint spheres and limb cylinders with appropriate dimensions</li>
					<li>Combines meshes for efficient rendering</li>
					<li>Updates mesh position and orientation based on stick figure changes</li>
				</ul>
			</li>
			<li><strong>MeshManipulator:</strong> Handles direct mesh vertex manipulation
				<ul>
					<li>Provides methods to move and transform body parts</li>
					<li>Caches and clones meshes for modification</li>
					<li>Recalculates normals and bounds after manipulation</li>
				</ul>
			</li>
			<li><strong>MeshUtils:</strong> Utility functions for mesh generation and manipulation
				<ul>
					<li>Generates primitive shapes (spheres, cylinders)</li>
					<li>Provides helper methods for mesh operations</li>
				</ul>
			</li>
		</ul>

		<h3>Implementation Challenges</h3>
		<p>While working on this project, we ran into several challenges that pushed us to think critically about our implementation. One major issue was maintaining the correct relationships between joints and limbs during manipulations. We would have iterations of the meshman where the limbs would detach from where the body when they should be attached. We also had to ensure that updates to the 3D mesh happened smoothly in real time based on 2D user input, just like how we learned in class that VR and AR systems have to focus a lot on making sure there is no lag. We found the user experience to be much worse when there is lag between the generations. We implemented dictionaries for search instead of for loops to make the process faster, reducing visual lag for the user. Generating and combining meshes efficiently without slowing things down was another hurdle, and we had to be careful when applying transformations to the mesh to make sure we didn't distort its shape. Another issue we've been running into during development is related to the winding order of triangles in our mesh, which has been causing unexpected visual artifacts such as the meshman showing inverted colors on parts of the body. We spent a while with this technical challenge and later fixed it by syncing the winding order with the one of the Unity engine - clockwise by default. Lastly, in the final stages of the project, we wanted to make the background of the scene more visually appealing. So, we took to blender to create a .fpx background for the stickman to exist in to make the project more user friendly!</p>

		<h3>Technical Decisions</h3>
		<p>As we developed the project, we made several technical decisions to improve both performance and maintainability. We chose Unity as the basis for our project for more robust and flexible input handling, which made it easier to manage user interactions. Since it has a built-in developer space for meshes. To keep the project more organized, we separated the 2D control layer from the 3D model representation, allowing us to build a cleaner and more modular architecture. For finer control over the visuals, we implemented mesh manipulation at the vertex level, which gave us more precision when adjusting shapes. Finally, we combined meshes where possible to optimize rendering and keep the performance smooth.</p>
		
		<h2>Results and Deliverables</h2>
		Your final images, animations, video of your system (whichever is relevant). You can include results that you think show off what you built but that you did not have time to go over on presentation day.

		<figure>
			<img src="../screenshots/wip.png" alt="mesh" style="width:50%"/>
			<figcaption>The UI before</figcaption>
		</figure>

		<figure>
			<img src="../screenshots/newer.png" alt="mesh" style="width:50%"/>
			<figcaption>The UI after</figcaption>
		</figure>

		<!-- <p>Showing png screenshots of basic/test4.svg with the default viewing parameters and sample rates 1, 4, and 16 to compare them side-by-side. With higher sample rates, the corner of the triangle gets smoother and smoother and more blended.</p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="task2.1.png" width="400px"/>
				  <figcaption>Sample rate: 1</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="task2.4.png" width="400px"/>
				  <figcaption>Sample rate: 4</figcaption>
				</td>
				<td style="text-align: center;">
					<img src="task2.16.png" width="400px"/>
					<figcaption>Sample rate: 16</figcaption>
				  </td>
			  </tr>
			</table>
		</div> -->

		<h2>References</h2>
		References

        <h2>Contributions from each team member</h2>
        A clear description of the work contributed by each team member.

		</div>
	</body>
</html>